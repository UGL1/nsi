\RequirePackage{microtype}
\RequirePackage{polyglossia}
\ifcsname isenglish\endcsname%
  \setdefaultlanguage{english}
\else
  \setdefaultlanguage{french}

\fi
\RequirePackage{fontspec}
\RequirePackage{amssymb}

\setromanfont{Fira Sans Light}[
  BoldFont={Fira Sans},
  ItalicFont={Fira Sans Light Italic},
  BoldItalicFont={Fira Sans Italic}
]

\setsansfont{Fira Sans Light}[
  BoldFont={Fira Sans},
  ItalicFont={Fira Sans Light Italic},
  BoldItalicFont={Fira Sans Italic}
]
% \setmonofont{SourceCodePro-Light}[
%   BoldFont={SourceCodePro-Regular},
%   ItalicFont={SourceCodePro-LightIt},
%   BoldItalicFont={SourceCodePro-Italic},
%   Scale=0.9]
\setmonofont{JetBrains Mono Light}[Renderer=Basic,
  BoldFont={JetBrains Mono Regular},
  ItalicFont={JetBrains Mono Light Italic},
  BoldItalicFont={JetBrains Mono Italic}]%,  Scale=0.9]

\setfontfamily{\titlefont}{Fira Sans ExtraBold}[
  BoldFont={Fira Sans ExtraBold},
  ItalicFont={Fira Sans Extrabold},
  BoldItalicFont={Fira Sans Extrabold}
]

\setfontfamily{\boxfont}{Fira Sans Bold}[
  BoldFont={Fira Sans Bold},
  ItalicFont={Fira Sans Bold Italic},
  BoldItalicFont={Fira Sans Bold Italic}
]

\setfontfamily{\bigtitlefont}{Fira Sans ExtraBold}[
  Scale=4,
  BoldFont={Fira Sans ExtraBold},
  ItalicFont={Fira Sans Extrabold Italic},
  BoldItalicFont={Fira Sans Extrabold Italic}
]

% experimental
\ifcsname firamath\endcsname%
  \RequirePackage[math-style=french,bold-style=ISO]{unicode-math}
  \setmathfont{latinmodern-math.otf}
  \setmathfont{FiraMath-Light.otf}[range={up, it,sfup,sfit}]
  %\setmathfont[version=bold]{FiraMath-Regular.otf}
\fi

